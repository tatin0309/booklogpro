<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BookLog Pro: Ultimate Standalone</title>
    <meta name="description" content="ÂÆåÂÖ®„Çπ„Çø„É≥„Éâ„Ç¢„É≠„É≥Âãï‰Ωú„ÄÇË™≠Êõ∏‰ΩìÈ®ì„ÇíÊ•µ‰∏ä„ÅÆ„Ç¢„Éº„Ç´„Ç§„Éñ„Å∏„ÄÇ">
    
    <!-- PWA / Mobile Web App Settings -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0f172a">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIkJvb2tMb2cgUHJvIiwKICAic2hvcnRfbmFtZSI6ICJCb29rTG9nIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiMwZjE3MmEiLAogICJ0aGVtZV9jb2xvciI6ICIjMGYxNzJhIiwKICAiaWNvbnMiOiBbXQp9">
    
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Inter"', '"Noto Sans JP"', 'sans-serif'],
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                        'slide-up': 'slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'fade-in': 'fadeIn 0.2s ease-out forwards',
                    },
                    keyframes: {
                        slideUp: {
                            '0%': { transform: 'translateY(100%)' },
                            '100%': { transform: 'translateY(0)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- React & Babel (CDN) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans JP', 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #f8fafc;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* Optimize scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 8px; height: 8px;
            background-color: #f00;
            animation: confetti-fall 3s linear forwards;
            pointer-events: none; z-index: 9999;
        }
        @keyframes confetti-fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
        }

        /* Mobile touch optimization */
        button, input, textarea, select {
            touch-action: manipulation;
        }
        
        /* Glassmorphism utility */
        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useCallback } = React;

        // ----------------------------------------------------------------------
        // 1. Icons (Inline SVG to guarantee loading - NO EXTERNAL LIBS)
        // ----------------------------------------------------------------------
        const Icons = {
            BookOpen: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Book: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>,
            Star: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>,
            CheckCircle: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            Plus: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>,
            Trash2: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>,
            Share2: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>,
            Download: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
            X: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Edit3: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>,
            Calendar: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>,
            Trophy: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg>,
            Quote: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/><path d="M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"/></svg>,
            ArrowRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
            Save: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
            Clock: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Copy: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>,
            ToggleLeft: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="1" y="5" width="22" height="14" rx="7" ry="7"/><circle cx="8" cy="12" r="3"/></svg>,
            ToggleRight: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><rect x="1" y="5" width="22" height="14" rx="7" ry="7" fill="currentColor" fillOpacity="0.2"/><circle cx="16" cy="12" r="3" fill="currentColor"/></svg>,
            ChevronDown: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><polyline points="6 9 12 15 18 9"/></svg>,
            AlignLeft: (props) => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}><line x1="17" y1="10" x2="3" y2="10"/><line x1="21" y1="6" x2="3" y2="6"/><line x1="21" y1="14" x2="3" y2="14"/><line x1="17" y1="18" x2="3" y2="18"/></svg>,
        };

        const Icon = ({ name, className, ...props }) => {
            const Component = Icons[name];
            if (!Component) return null;
            return <Component className={className} {...props} />;
        };

        // ----------------------------------------------------------------------
        // 2. Constants & Helpers
        // ----------------------------------------------------------------------
        const STORAGE_KEY = 'booklog-pro-final-v3';
        
        const COVER_COLORS = [
            'from-rose-500 to-pink-600',
            'from-blue-500 to-cyan-600',
            'from-emerald-500 to-teal-600',
            'from-violet-500 to-purple-600',
            'from-amber-500 to-orange-600',
            'from-indigo-500 to-blue-600'
        ];

        const generateId = () => Date.now().toString(36) + Math.random().toString(36).substr(2, 5);

        const triggerConfetti = () => {
            const colors = ['#ef4444', '#3b82f6', '#10b981', '#f59e0b', '#8b5cf6'];
            const container = document.body;
            for (let i = 0; i < 60; i++) {
                const el = document.createElement('div');
                el.classList.add('confetti');
                el.style.left = Math.random() * 100 + 'vw';
                el.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                el.style.width = (Math.random() * 6 + 4) + 'px';
                el.style.height = (Math.random() * 6 + 4) + 'px';
                el.style.animationDuration = (Math.random() * 2 + 1.5) + 's';
                el.style.transform = `rotate(${Math.random() * 360}deg)`;
                container.appendChild(el);
                setTimeout(() => { if (el.parentNode) el.parentNode.removeChild(el); }, 3000);
            }
        };

        // ----------------------------------------------------------------------
        // 3. Components
        // ----------------------------------------------------------------------
        
        // Robust Star Rating Component (Mobile Optimized)
        const StarRating = ({ rating, setRating, readOnly = false, size = "md" }) => {
            const stars = [1, 2, 3, 4, 5];
            const sizeClass = size === "lg" ? "w-11 h-11" : "w-10 h-10"; // Ensuring large hit area for touch
            const iconClass = size === "lg" ? "w-8 h-8" : "w-6 h-6";

            return (
                <div className="flex items-center gap-1">
                    {stars.map((star) => (
                        <button
                            key={star}
                            type="button"
                            disabled={readOnly}
                            onClick={(e) => {
                                e.preventDefault();
                                e.stopPropagation();
                                if (!readOnly && setRating) setRating(star);
                            }}
                            className={`
                                flex items-center justify-center rounded-full transition-transform
                                ${sizeClass}
                                ${!readOnly ? 'hover:scale-110 active:scale-95 cursor-pointer' : 'cursor-default'}
                            `}
                            style={{ touchAction: 'manipulation' }} // Prevents double-tap zoom delay
                        >
                            <Icon 
                                name="Star" 
                                className={`
                                    ${iconClass} transition-colors
                                    ${star <= rating ? 'text-amber-400 fill-amber-400' : 'text-slate-600 fill-slate-800/50'}
                                `} 
                            />
                        </button>
                    ))}
                </div>
            );
        };

        // ----------------------------------------------------------------------
        // 4. Main Application
        // ----------------------------------------------------------------------
        const App = () => {
            // -- State --
            const [books, setBooks] = useState(() => {
                try {
                    const saved = localStorage.getItem(STORAGE_KEY);
                    return saved ? JSON.parse(saved) : [];
                } catch { return []; }
            });

            const [view, setView] = useState('active'); // 'active' | 'archive'
            
            // Modals
            const [isAddOpen, setIsAddOpen] = useState(false);
            const [isCompleteOpen, setIsCompleteOpen] = useState(false);
            const [isDetailOpen, setIsDetailOpen] = useState(false);
            const [isShareOpen, setIsShareOpen] = useState(false);
            const [isEditing, setIsEditing] = useState(false);

            // Selection
            const [selectedBook, setSelectedBook] = useState(null);

            // Forms
            const [addForm, setAddForm] = useState({ 
                title: '', author: '', isInstantRead: false, 
                rating: 3, endDate: new Date().toISOString().split('T')[0], quote: '', comment: '' 
            });
            const [completeForm, setCompleteForm] = useState({ rating: 3, comment: '', quote: '', endDate: new Date().toISOString().split('T')[0] });
            const [editForm, setEditForm] = useState({});

            // -- Effects --
            useEffect(() => {
                try {
                    localStorage.setItem(STORAGE_KEY, JSON.stringify(books));
                } catch (e) {
                    console.error("Failed to save to localStorage", e);
                }
            }, [books]);

            // -- Handlers --
            const handleAddBook = (e) => {
                e.preventDefault();
                if (!addForm.title.trim()) return;

                const newBook = {
                    id: generateId(),
                    title: addForm.title,
                    author: addForm.author || 'Unknown',
                    addedDate: new Date().toISOString(),
                    coverColor: COVER_COLORS[Math.floor(Math.random() * COVER_COLORS.length)],
                    status: addForm.isInstantRead ? 'completed' : 'wish',
                    rating: addForm.isInstantRead ? addForm.rating : 0,
                    startDate: addForm.isInstantRead ? new Date().toISOString() : null,
                    endDate: addForm.isInstantRead ? new Date(addForm.endDate).toISOString() : null,
                    quote: addForm.isInstantRead ? addForm.quote : '',
                    comment: addForm.isInstantRead ? addForm.comment : ''
                };

                setBooks(prev => [newBook, ...prev]);
                if (addForm.isInstantRead) triggerConfetti();
                
                // Reset & Close
                setAddForm({ title: '', author: '', isInstantRead: false, rating: 3, endDate: new Date().toISOString().split('T')[0], quote: '', comment: '' });
                setIsAddOpen(false);
            };

            const handleDelete = (id, e) => {
                if(e) e.stopPropagation();
                if (window.confirm('Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü„Åì„ÅÆÊìç‰Ωú„ÅØÂèñ„ÇäÊ∂à„Åõ„Åæ„Åõ„Çì„ÄÇ')) {
                    setBooks(prev => prev.filter(b => b.id !== id));
                    if (selectedBook?.id === id) closeAllModals();
                }
            };

            const handleStatusAdvance = (book, e) => {
                e.stopPropagation();
                if (book.status === 'wish') {
                    // Wish -> Reading
                    setBooks(prev => prev.map(b => b.id === book.id ? { ...b, status: 'reading', startDate: new Date().toISOString() } : b));
                } else if (book.status === 'reading') {
                    // Reading -> Complete (Open Modal)
                    setSelectedBook(book);
                    setCompleteForm({ rating: 3, comment: '', quote: '', endDate: new Date().toISOString().split('T')[0] });
                    setIsCompleteOpen(true);
                }
            };

            const handleComplete = (e) => {
                e.preventDefault();
                setBooks(prev => prev.map(b => b.id === selectedBook.id ? {
                    ...b,
                    status: 'completed',
                    endDate: new Date(completeForm.endDate).toISOString(),
                    rating: completeForm.rating,
                    comment: completeForm.comment,
                    quote: completeForm.quote
                } : b));
                setIsCompleteOpen(false);
                setSelectedBook(null);
                triggerConfetti();
            };

            const handleUpdate = (e) => {
                e.preventDefault();
                const updated = books.map(b => b.id === selectedBook.id ? { ...b, ...editForm } : b);
                setBooks(updated);
                setSelectedBook(updated.find(b => b.id === selectedBook.id));
                setIsEditing(false);
            };

            const openDetail = (book) => {
                setSelectedBook(book);
                setEditForm({
                    title: book.title, author: book.author,
                    rating: book.rating, comment: book.comment || '', quote: book.quote || '',
                    endDate: book.endDate ? book.endDate.split('T')[0] : ''
                });
                setIsDetailOpen(true);
                setIsEditing(false);
            };

            const closeAllModals = () => {
                setIsAddOpen(false);
                setIsCompleteOpen(false);
                setIsDetailOpen(false);
                setIsShareOpen(false);
                setSelectedBook(null);
            };

            const handleExportCSV = () => {
                const BOM = '\uFEFF';
                const header = ['„Çø„Ç§„Éà„É´', 'ËëóËÄÖ', '„Çπ„ÉÜ„Éº„Çø„Çπ', 'Ë©ï‰æ°', 'Âç∞Ë±°ÁöÑ„Å™‰∏ÄÊñá', 'ÊÑüÊÉ≥', 'ÁôªÈå≤Êó•', 'Ë™≠‰∫ÜÊó•'];
                const rows = books.map(b => [
                    `"${b.title.replace(/"/g, '""')}"`, 
                    `"${b.author.replace(/"/g, '""')}"`, 
                    b.status, 
                    b.rating, 
                    `"${(b.quote||'').replace(/"/g, '""')}"`, // Quote
                    `"${(b.comment||'').replace(/"/g, '""')}"`, // Comment
                    b.addedDate.split('T')[0], 
                    b.endDate ? b.endDate.split('T')[0] : ''
                ]);
                const csv = BOM + [header, ...rows].map(r => r.join(',')).join('\n');
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `booklog_${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
            };

            // -- Share Logic --
            const getShareText = () => {
                if (!selectedBook) return '';
                const starStr = '‚òÖ'.repeat(selectedBook.rating) + '‚òÜ'.repeat(5 - selectedBook.rating);
                let text = `üìñ„Äé${selectedBook.title}„Äè${selectedBook.author}\n`;
                
                if (selectedBook.status === 'completed') {
                    text += `üåüË©ï‰æ°: ${starStr}\n`;
                    if (selectedBook.quote) {
                        text += `üí¨Âç∞Ë±°ÁöÑ„Å™‰∏ÄÊñá: „Äå${selectedBook.quote}„Äç\n`;
                    }
                    if (selectedBook.comment) {
                        text += `üìùÊÑüÊÉ≥: ${selectedBook.comment}\n`;
                    }
                } else {
                    text += `üî•Reading Now\n`;
                }
                text += `#BookLog #Ë™≠Êõ∏Ë®òÈå≤`;
                return text;
            };

            const handleCopyText = async () => {
                const text = getShareText();
                try {
                    await navigator.clipboard.writeText(text);
                    alert('„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅSNS„ÇÑ„É°„É¢„Å´Ë≤º„Çä‰ªò„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                } catch (err) {
                    // Fallback for older browsers or non-secure contexts
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        alert('„ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Å´„Ç≥„Éî„Éº„Åó„Åæ„Åó„ÅüÔºÅ');
                    } catch (err) {
                        console.error('Unable to copy', err);
                        alert('„Ç≥„Éî„Éº„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÊâãÂãï„Åß„Ç≥„Éî„Éº„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                    }
                    document.body.removeChild(textArea);
                }
            };

            // -- Derived Data --
            const activeBooks = books.filter(b => b.status !== 'completed');
            const achievedBooks = books.filter(b => b.status === 'completed').sort((a,b) => new Date(b.endDate) - new Date(a.endDate));

            return (
                <div className="min-h-screen pb-24 relative">
                    {/* Header */}
                    <header className="fixed top-0 inset-x-0 z-40 bg-slate-900/90 backdrop-blur-md border-b border-white/5 h-16 flex items-center justify-between px-4">
                        <div className="flex items-center gap-2" onClick={() => setView('active')}>
                            <div className="p-2 bg-indigo-500/20 rounded-lg text-indigo-400">
                                <Icon name="BookOpen" className="w-5 h-5" />
                            </div>
                            <h1 className="font-bold text-lg tracking-tight">BookLog <span className="text-xs text-indigo-400 font-normal ml-1">PRO</span></h1>
                        </div>
                        <div className="flex gap-2">
                            <button onClick={handleExportCSV} className="p-2 text-slate-400 hover:text-white transition-colors">
                                <Icon name="Download" className="w-5 h-5" />
                            </button>
                            <button onClick={() => setIsAddOpen(true)} className="flex items-center gap-1 bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-full font-bold text-sm shadow-lg active:scale-95 transition-all">
                                <Icon name="Plus" className="w-4 h-4" />
                                <span>Add</span>
                            </button>
                        </div>
                    </header>

                    {/* Tab Nav */}
                    <div className="fixed top-16 inset-x-0 z-30 px-4 py-3 bg-slate-900/95 backdrop-blur-sm">
                        <div className="glass rounded-xl p-1 flex">
                            <button 
                                onClick={() => setView('active')}
                                className={`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${view === 'active' ? 'bg-slate-700 text-white shadow-md' : 'text-slate-400'}`}
                            >
                                <Icon name="Book" className="w-4 h-4" />
                                Ë™≠Êõ∏‰∏≠„ÉªÁ©çË™≠
                            </button>
                            <button 
                                onClick={() => setView('archive')}
                                className={`flex-1 py-2.5 rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-all ${view === 'archive' ? 'bg-indigo-600 text-white shadow-md' : 'text-slate-400'}`}
                            >
                                <Icon name="Trophy" className="w-4 h-4" />
                                ÈÅîÊàê„Ç¢„Éº„Ç´„Ç§„Éñ
                            </button>
                        </div>
                    </div>

                    {/* Content */}
                    <main className="pt-36 px-4 max-w-2xl mx-auto space-y-4">
                        {/* Active View */}
                        {view === 'active' && (
                            <div className="space-y-4 animate-slide-up">
                                {activeBooks.length === 0 ? (
                                    <div className="text-center py-20 text-slate-500">
                                        <p>ÁèæÂú®Ë™≠„Çì„Åß„ÅÑ„ÇãÊú¨„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ<br/>Âè≥‰∏ä„ÅÆ„Éú„Çø„É≥„Åã„ÇâËøΩÂä†„Åó„Åæ„Åó„Çá„ÅÜ„ÄÇ</p>
                                    </div>
                                ) : (
                                    activeBooks.map(book => (
                                        <div key={book.id} onClick={() => openDetail(book)} className="glass rounded-xl p-4 flex gap-4 hover:bg-slate-800/50 transition-colors cursor-pointer active:scale-[0.99]">
                                            <div className={`w-16 h-24 rounded-lg bg-gradient-to-br ${book.coverColor} flex items-center justify-center shrink-0 shadow-lg`}>
                                                <Icon name="Book" className="w-6 h-6 text-white/50" />
                                            </div>
                                            <div className="flex-1 flex flex-col justify-between min-w-0">
                                                <div>
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <span className={`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ${book.status === 'reading' ? 'bg-emerald-500/20 text-emerald-400' : 'bg-amber-500/20 text-amber-400'}`}>
                                                            {book.status === 'reading' ? 'Reading' : 'Wish List'}
                                                        </span>
                                                    </div>
                                                    <h3 className="font-bold text-white truncate">{book.title}</h3>
                                                    <p className="text-sm text-slate-400 truncate">{book.author}</p>
                                                </div>
                                                <div className="flex items-center justify-between mt-2">
                                                    <button 
                                                        onClick={(e) => handleStatusAdvance(book, e)}
                                                        className={`flex-1 mr-2 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-1.5 transition-all active:scale-95 ${
                                                            book.status === 'reading' ? 'bg-indigo-600 text-white' : 'bg-slate-700 text-slate-300'
                                                        }`}
                                                    >
                                                        {book.status === 'reading' ? <><Icon name="CheckCircle" className="w-3.5 h-3.5" /> Ë™≠‰∫ÜË®òÈå≤</> : <><Icon name="BookOpen" className="w-3.5 h-3.5" /> Ë™≠„ÅøÂßã„ÇÅ„Çã</>}
                                                    </button>
                                                    <button onClick={(e) => handleDelete(book.id, e)} className="p-2 text-slate-500 hover:text-rose-400">
                                                        <Icon name="Trash2" className="w-4 h-4" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    ))
                                )}
                            </div>
                        )}

                        {/* Archive View */}
                        {view === 'archive' && (
                            <div className="space-y-6 animate-slide-up pb-10">
                                {achievedBooks.length === 0 ? (
                                    <div className="text-center py-20 text-slate-500">Ë™≠‰∫Ü„Åó„ÅüÊú¨„ÅØ„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</div>
                                ) : (
                                    achievedBooks.map(book => (
                                        <div key={book.id} onClick={() => openDetail(book)} className="glass rounded-xl overflow-hidden cursor-pointer active:scale-[0.99] transition-transform">
                                            <div className="flex">
                                                <div className={`w-3 bg-gradient-to-b ${book.coverColor}`}></div>
                                                <div className="p-4 flex-1 min-w-0">
                                                    <div className="flex justify-between items-start mb-2">
                                                        <div>
                                                            <h3 className="font-bold text-lg leading-tight truncate">{book.title}</h3>
                                                            <div className="flex items-center gap-2 mt-1 text-xs text-slate-400">
                                                                <span>{book.author}</span>
                                                                <span>‚Ä¢</span>
                                                                <span>{new Date(book.endDate).toLocaleDateString()}</span>
                                                            </div>
                                                        </div>
                                                        <div className="flex text-amber-400">
                                                            {[...Array(book.rating)].map((_,i) => <Icon key={i} name="Star" className="w-3.5 h-3.5 fill-current" />)}
                                                        </div>
                                                    </div>
                                                    {book.quote && (
                                                        <div className="bg-slate-900/50 p-3 rounded-lg border border-white/5 mb-3">
                                                            <div className="flex items-center gap-1.5 mb-1 text-[10px] uppercase font-bold text-slate-500 tracking-wider">
                                                                <Icon name="Quote" className="w-3 h-3" /> Best Quote
                                                            </div>
                                                            <p className="text-sm italic text-slate-200 line-clamp-2">"{book.quote}"</p>
                                                        </div>
                                                    )}
                                                    {book.comment && <p className="text-sm text-slate-400 line-clamp-2 mb-3">{book.comment}</p>}
                                                    <div className="flex justify-end pt-2 border-t border-white/5">
                                                        <button onClick={(e) => { e.stopPropagation(); setSelectedBook(book); setIsShareOpen(true); }} className="flex items-center gap-1 text-xs font-bold text-indigo-400 px-3 py-1.5 bg-indigo-500/10 rounded-full">
                                                            <Icon name="Share2" className="w-3 h-3" /> Share
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))
                                )}
                            </div>
                        )}
                    </main>

                    {/* --- Modals --- */}
                    
                    {/* Add Modal */}
                    {isAddOpen && (
                        <div className="fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black/60 backdrop-blur-sm animate-fade-in">
                            <div className="w-full sm:max-w-md bg-slate-800 rounded-t-2xl sm:rounded-2xl border border-white/10 shadow-2xl overflow-hidden animate-slide-up max-h-[90vh] overflow-y-auto">
                                <div className="p-5">
                                    <div className="flex justify-between items-center mb-6">
                                        <h2 className="text-lg font-bold flex items-center gap-2">
                                            <Icon name="Plus" className="w-5 h-5 text-indigo-400" /> Êú¨„ÇíËøΩÂä†
                                        </h2>
                                        <button onClick={() => setIsAddOpen(false)} className="p-2 text-slate-400 hover:text-white bg-slate-700/50 rounded-full"><Icon name="X" className="w-5 h-5" /></button>
                                    </div>
                                    <form onSubmit={handleAddBook} className="space-y-5">
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Title</label>
                                                <input type="text" value={addForm.title} onChange={e => setAddForm({...addForm, title: e.target.value})} className="w-full h-11 bg-slate-900 border border-slate-700 rounded-xl px-4 text-white focus:border-indigo-500 outline-none" placeholder="„Çø„Ç§„Éà„É´" autoFocus />
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Author</label>
                                                <input type="text" value={addForm.author} onChange={e => setAddForm({...addForm, author: e.target.value})} className="w-full h-11 bg-slate-900 border border-slate-700 rounded-xl px-4 text-white focus:border-indigo-500 outline-none" placeholder="ËëóËÄÖ" />
                                            </div>
                                        </div>

                                        {/* Toggle */}
                                        <div className="flex items-center justify-between bg-slate-900/50 p-3 rounded-xl border border-slate-700 cursor-pointer" onClick={() => setAddForm({...addForm, isInstantRead: !addForm.isInstantRead})}>
                                            <div className="flex items-center gap-2">
                                                <Icon name="CheckCircle" className={`w-5 h-5 ${addForm.isInstantRead ? 'text-emerald-400' : 'text-slate-500'}`} />
                                                <span className="text-sm font-bold text-slate-300">„Åô„Åß„Å´Ë™≠‰∫ÜÊ∏à„Åø</span>
                                            </div>
                                            <Icon name={addForm.isInstantRead ? "ToggleRight" : "ToggleLeft"} className={`w-8 h-8 ${addForm.isInstantRead ? 'text-emerald-500' : 'text-slate-600'}`} />
                                        </div>

                                        {addForm.isInstantRead && (
                                            <div className="space-y-4 animate-fade-in bg-slate-900/30 p-4 rounded-xl border border-white/5">
                                                <div className="grid grid-cols-2 gap-4">
                                                    <div>
                                                        <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Date</label>
                                                        <input type="date" value={addForm.endDate} onChange={e => setAddForm({...addForm, endDate: e.target.value})} className="w-full h-11 bg-slate-900 border border-slate-700 rounded-xl px-3 text-sm text-white" />
                                                    </div>
                                                    <div>
                                                        <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Rating</label>
                                                        <div className="h-11 flex items-center justify-center bg-slate-900 border border-slate-700 rounded-xl">
                                                            <StarRating rating={addForm.rating} setRating={r => setAddForm({...addForm, rating: r})} />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Best Quote</label>
                                                    <textarea value={addForm.quote} onChange={e => setAddForm({...addForm, quote: e.target.value})} className="w-full h-16 bg-slate-900 border border-slate-700 rounded-xl p-3 text-sm text-white" placeholder="ÂøÉ„Å´ÊÆã„Å£„Åü‰∏ÄÊñá..."></textarea>
                                                </div>
                                                <div>
                                                    <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Comment</label>
                                                    <textarea value={addForm.comment} onChange={e => setAddForm({...addForm, comment: e.target.value})} className="w-full h-16 bg-slate-900 border border-slate-700 rounded-xl p-3 text-sm text-white" placeholder="ÂÖ®‰Ωì„ÅÆÊÑüÊÉ≥„Å™„Å©"></textarea>
                                                </div>
                                            </div>
                                        )}

                                        <button type="submit" className="w-full h-12 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all">
                                            {addForm.isInstantRead ? <span>Ë®òÈå≤„Åó„Å¶ÂÆå‰∫Ü</span> : <span>„É™„Çπ„Éà„Å´ËøΩÂä†</span>}
                                            <Icon name="ArrowRight" className="w-4 h-4" />
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Complete Modal */}
                    {isCompleteOpen && selectedBook && (
                        <div className="fixed inset-0 z-50 flex items-end sm:items-center justify-center p-0 sm:p-4 bg-black/60 backdrop-blur-sm animate-fade-in">
                            <div className="w-full sm:max-w-md bg-slate-800 rounded-t-2xl sm:rounded-2xl border border-white/10 shadow-2xl overflow-hidden animate-slide-up">
                                <div className="p-6 text-center">
                                    <Icon name="Trophy" className="w-12 h-12 text-amber-400 mx-auto mb-3" />
                                    <h2 className="text-xl font-bold text-white">Congratulations!</h2>
                                    <p className="text-sm text-slate-400 mb-6">{selectedBook.title} „ÇíË™≠‰∫Ü„Åó„Åæ„Åó„Åü</p>
                                    
                                    <form onSubmit={handleComplete} className="space-y-5 text-left">
                                        <div className="flex justify-center mb-2">
                                            <StarRating rating={completeForm.rating} setRating={r => setCompleteForm({...completeForm, rating: r})} size="lg" />
                                        </div>
                                        <div>
                                            <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Best Quote</label>
                                            <textarea value={completeForm.quote} onChange={e => setCompleteForm({...completeForm, quote: e.target.value})} className="w-full h-20 bg-slate-900 border border-slate-700 rounded-xl p-3 text-sm text-white focus:border-indigo-500 outline-none" placeholder="ÂøÉ„Å´ÊÆã„Å£„Åü‰∏ÄÊñá..."></textarea>
                                        </div>
                                        <div>
                                            <label className="block text-xs font-bold text-slate-400 uppercase mb-1">Overall Comment</label>
                                            <input type="text" value={completeForm.comment} onChange={e => setCompleteForm({...completeForm, comment: e.target.value})} className="w-full h-11 bg-slate-900 border border-slate-700 rounded-xl px-4 text-sm text-white focus:border-indigo-500 outline-none" placeholder="‰∏ÄË®ÄÊÑüÊÉ≥" />
                                        </div>
                                        <div className="grid grid-cols-2 gap-3">
                                            <button type="button" onClick={() => setIsCompleteOpen(false)} className="h-12 bg-slate-700 text-slate-300 font-bold rounded-xl">Cancel</button>
                                            <button type="submit" className="h-12 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-xl shadow-lg active:scale-95 transition-all">Ë®òÈå≤ÂÆå‰∫Ü</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Detail / Edit Modal */}
                    {isDetailOpen && selectedBook && (
                        <div className="fixed inset-0 z-50 flex items-end justify-center sm:items-center p-0 sm:p-4 bg-black/70 backdrop-blur-md animate-fade-in">
                            <div className="w-full sm:max-w-xl h-[90vh] sm:h-auto bg-slate-800 rounded-t-3xl sm:rounded-3xl border border-white/10 shadow-2xl flex flex-col animate-slide-up">
                                <div className="px-6 py-4 border-b border-white/5 flex justify-between items-center">
                                    <span className="text-xs font-bold text-slate-400 uppercase tracking-wider">{isEditing ? 'Editing' : 'Details'}</span>
                                    <div className="flex gap-2">
                                        {!isEditing && <button onClick={() => setIsEditing(true)} className="p-2 bg-slate-700/50 rounded-full text-slate-300"><Icon name="Edit3" className="w-4 h-4" /></button>}
                                        <button onClick={closeAllModals} className="p-2 bg-slate-700/50 rounded-full text-slate-300"><Icon name="ChevronDown" className="w-4 h-4" /></button>
                                    </div>
                                </div>
                                <div className="flex-1 overflow-y-auto p-6">
                                    {isEditing ? (
                                        <form id="editForm" onSubmit={handleUpdate} className="space-y-4">
                                            <div><label className="text-xs font-bold text-slate-500 uppercase">Title</label><input className="w-full mt-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-white" value={editForm.title} onChange={e => setEditForm({...editForm, title: e.target.value})} /></div>
                                            <div><label className="text-xs font-bold text-slate-500 uppercase">Author</label><input className="w-full mt-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-white" value={editForm.author} onChange={e => setEditForm({...editForm, author: e.target.value})} /></div>
                                            <div className="grid grid-cols-2 gap-4">
                                                <div><label className="text-xs font-bold text-slate-500 uppercase">Date</label><input type="date" className="w-full mt-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-white text-sm" value={editForm.endDate} onChange={e => setEditForm({...editForm, endDate: e.target.value})} /></div>
                                                <div><label className="text-xs font-bold text-slate-500 uppercase">Rating</label><div className="mt-1 h-[46px] bg-slate-900 border border-slate-700 rounded-lg flex items-center justify-center"><StarRating rating={editForm.rating} setRating={r => setEditForm({...editForm, rating: r})} /></div></div>
                                            </div>
                                            <div><label className="text-xs font-bold text-slate-500 uppercase">Best Quote</label><textarea className="w-full mt-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-white h-20" value={editForm.quote} onChange={e => setEditForm({...editForm, quote: e.target.value})} /></div>
                                            <div><label className="text-xs font-bold text-slate-500 uppercase">Comment</label><textarea className="w-full mt-1 bg-slate-900 border border-slate-700 rounded-lg p-3 text-white h-20" value={editForm.comment} onChange={e => setEditForm({...editForm, comment: e.target.value})} /></div>
                                        </form>
                                    ) : (
                                        <div className="space-y-6">
                                            <div>
                                                <h2 className="text-2xl font-black text-white leading-tight">{selectedBook.title}</h2>
                                                <p className="text-lg text-slate-400 mt-1">{selectedBook.author}</p>
                                                <div className="flex items-center gap-3 mt-4">
                                                    <div className="flex text-amber-400">{[...Array(selectedBook.rating)].map((_,i) => <Icon key={i} name="Star" className="w-5 h-5 fill-current" />)}</div>
                                                    <span className="px-2 py-0.5 rounded text-[10px] font-bold bg-slate-700 text-slate-300 uppercase">{selectedBook.status}</span>
                                                </div>
                                            </div>
                                            {selectedBook.quote && (
                                                <div className="relative pl-4 border-l-4 border-indigo-500 py-2">
                                                    <div className="text-xs font-bold text-indigo-400 uppercase mb-1">Best Quote</div>
                                                    <p className="text-lg italic text-slate-200">"{selectedBook.quote}"</p>
                                                </div>
                                            )}
                                            {selectedBook.comment && (
                                                <div className="bg-slate-900/50 p-4 rounded-xl border border-white/5">
                                                    <div className="flex items-center gap-2 mb-2 text-slate-500 text-xs font-bold uppercase"><Icon name="Edit3" className="w-3 h-3" /> Review</div>
                                                    <p className="text-slate-300 leading-relaxed">{selectedBook.comment}</p>
                                                </div>
                                            )}
                                        </div>
                                    )}
                                </div>
                                <div className="p-4 border-t border-white/5 flex gap-3">
                                    {isEditing ? (
                                        <>
                                            <button onClick={() => setIsEditing(false)} className="flex-1 py-3 bg-slate-700 font-bold text-slate-300 rounded-xl">Cancel</button>
                                            <button type="submit" form="editForm" className="flex-1 py-3 bg-indigo-600 font-bold text-white rounded-xl shadow-lg">Save Changes</button>
                                        </>
                                    ) : (
                                        <>
                                            <button onClick={() => setIsShareOpen(true)} className="flex-1 py-3 bg-indigo-600 font-bold text-white rounded-xl shadow-lg flex items-center justify-center gap-2"><Icon name="Share2" className="w-4 h-4" /> Share Card</button>
                                            <button onClick={closeAllModals} className="flex-1 py-3 bg-slate-800 border border-slate-600 font-bold text-slate-300 rounded-xl">Close</button>
                                        </>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Share Card Modal */}
                    {isShareOpen && selectedBook && (
                        <div className="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-fade-in">
                            <div className="w-full max-w-sm space-y-4 animate-slide-up">
                                <div className="bg-slate-800 rounded-2xl border border-white/10 shadow-2xl p-5">
                                    <div className="mb-4">
                                        <h3 className="text-lg font-bold text-white mb-2 flex items-center gap-2">
                                            <Icon name="Share2" className="w-5 h-5 text-indigo-400" /> Share Preview
                                        </h3>
                                        <p className="text-xs text-slate-400 mb-3">‰ª•‰∏ã„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Åå„Ç≥„Éî„Éº„Åï„Çå„Åæ„Åô</p>
                                        <div className="bg-slate-900 rounded-xl p-3 border border-slate-700">
                                            <textarea 
                                                readOnly 
                                                className="w-full h-32 bg-transparent text-sm text-slate-300 outline-none resize-none font-mono leading-relaxed"
                                                value={getShareText()}
                                            ></textarea>
                                        </div>
                                    </div>
                                    <div className="flex flex-col gap-3">
                                        <button onClick={handleCopyText} className="w-full py-3.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg flex items-center justify-center gap-2 active:scale-95 transition-all">
                                            <Icon name="Copy" className="w-5 h-5" />
                                            <span>„Åì„ÅÆÂÜÖÂÆπ„Çí„Ç≥„Éî„Éº„Åô„Çã</span>
                                        </button>
                                        <button onClick={() => setIsShareOpen(false)} className="w-full py-3 bg-slate-700 hover:bg-slate-600 text-slate-300 font-bold rounded-xl border border-slate-600">Èñâ„Åò„Çã</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>